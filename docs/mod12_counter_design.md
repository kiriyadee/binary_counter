# การออกแบบ Mod-12 Synchronous Counter ด้วย JK Flip-Flops

## 1. ความต้องการพื้นฐาน

### 1.1 คำนิยาม Mod-12 Counter

- เคาน์เตอร์ที่มีสถานะทั้งหมด 12 สถานะ (0 ถึง 11)
- หลังจากสถานะสุดท้าย (11) จะกลับไปที่สถานะแรก (0)

### 1.2 การคำนวณจำนวน Flip-Flops

- ใช้สูตร: \( 2^n - 1 \geq N \)
- \( N = 12 \), ดังนั้น \( 2^4 - 1 = 15 \geq 12 \)
- **ต้องใช้ Flip-Flops จำนวน 4 ตัว** (Q3, Q2, Q1, Q0)

## 2. แผนภาพสถานะ (State Diagram)

```
    0000 (0) → 0001 (1) → ... → 1011 (11)
      ↑                            |
      └────────────────────────────┘
```

## 3. ตารางการเปลี่ยนสถานะ (State Table)

### 3.1 เงื่อนไขการ Reset

- เมื่อถึงสถานะ 1100 (12) ให้กลับไปที่ 0000 (0)

### 3.2 ตาราง State Transition

| Present State            |     | Next State |     | J-K Input |
| ------------------------ | --- | ---------- | --- | --------- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- |
| Q3                       | Q2  | Q1         | Q0  | Clock     | Q3+ | Q2+ | Q1+ | Q0+ | J3  | K3  | J2  | K2  | J1  | K1  | J0  | K0  |
| 0                        | 0   | 0          | 0   | 1         | 0   | 0   | 0   | 1   | 0   | X   | 0   | X   | 0   | X   | 1   | 0   |
| ... (ทุกสถานะจนถึง 1011) | ... | ...        | ... | ...       | ... |
| 1                        | 0   | 1          | 1   | 1         | 1   | 0   | 1   | 0   | 0   | X   | 0   | X   | 1   | 0   | 0   | 1   |

## 4. การหาฟังก์ชันบูลีน

### 4.1 สำหรับ Q0 (LSB)

- J0 = K0 = 1
- เปลี่ยนสถานะทุกครั้งที่มีนาฬิกา

### 4.2 สำหรับ Q1

- J1 = K1 = Q0'
- เปลี่ยนสถานะเมื่อ Q0 เป็น 0

### 4.3 สำหรับ Q2

- J2 = K2 = Q1 · Q0
- เปลี่ยนสถานะเมื่อทั้ง Q1 และ Q0 เป็น 1

### 4.4 สำหรับ Q3 (MSB)

- J3 = K3 = Q2 · Q1 · Q0
- เปลี่ยนสถานะเมื่อ Q2, Q1, Q0 เป็น 1

## 5. วงจรลอจิก

### 5.1 อุปกรณ์ที่ใช้

- JK Flip-Flops 4 ตัว
- เกตลอจิก AND, NOT

### 5.2 การเชื่อมต่อ

```
    Clock ─► FF0 (Q0)
    Q0    ─► FF1 (Q1)
    Q1·Q0 ─► FF2 (Q2)
    Q2·Q1·Q0 ─► FF3 (Q3)
```

**รายละเอียดเพิ่มเติม:**

- **การเชื่อมต่อ Clock:** สัญญาณนาฬิกาจะถูกส่งไปยังทุก Flip-Flop เพื่อให้เคาน์เตอร์เป็นแบบ Synchronous
- **การเชื่อมต่อ Outputs:** เอาต์พุตจาก Flip-Flop หนึ่งไปยังอินพุตของ Flip-Flop ถัดไปเพื่อสร้างการเปลี่ยนแปลงสถานะที่ถูกต้อง

## 6. ข้อพิจารณาเพิ่มเติม

### 6.1 การเลือกใช้ Synchronous Counter

การใช้ Synchronous Counter มีข้อดีเหนือกว่า Asynchronous Counter เนื่องจากทุก Flip-Flop จะได้รับสัญญาณนาฬิก���เดียวกัน จึงลดปัญหาการหน่วงเวลา (Propagation Delay) และทำให้การเปลี่ยนสถานะมีความแม่นยำและเสถียรขึ้น

### 6.2 การจัดการกับการรีเซ็ต

การรีเซ็ตเมื่อถึงสถานะ 12 เป็นสิ่งสำคัญในการรักษาก���รนับให้ถูกต้อง ดังนั้น การออกแบบวงจรรีเซ็ตต้องมั่นใจว่าเกิดขึ้นทันทีที่เคาน์เตอร์ถึงสถานะที่ต้องการ

## 7. การทดสอบ

การทดสอบเป็นขั้นตอนสำคัญในการตรวจสอบความถูกต้องของการออกแบบเคาน์เตอร์ เพื่อให้แน่ใจว่าทำงานได้ตามที่กำหนด

### 7.1 การนับ

ตรวจสอบการนับจากสถานะเริ่มต้น 0000 (0) ถึงสถานะสุดท้าย 1011 (11) ว่าเคาน์เตอร์เปลี่ยนสถานะตามที่กำหนดหรือไม่

### 7.2 การรีเซ็ต

ตรวจสอบว่าเมื่อเคาน์เตอร์ถึงสถานะ 1100 (12) จะรีเซ็ตกลับไปที่สถานะ 0000 (0) อย่างถูกต้อง

### 7.3 ความถูกต้องของสัญญาณนาฬิกา

วัดความถูกต้องของสัญญาณนาฬิกาเพื่อให้มั่นใจว่าเคาน์เตอร์ทำงานตามจังหวะที่ถูกต้อง

### 7.4 ความถูกต้องของ Flip-Flops

ตรวจสอบว่าแต่ละ Flip-Flop ทำงานได้ถูกต้องและไม่มีข้อผิดพลาดในการเปลี่ยนสถานะ

## 8. ข้อดีของ Mod-12 Counter

- **การใช้งานที่หลากหลาย:** เหมาะสำหรับระบบที่ต้องการนับรอบเวลา 12 ชั่วโมง หรือนาฬิกาดิจิทัล
- **ความเสถียรและแม่นยำ:** การออกแบบแบบ Synchronous Counter ทำให้มีความเสถียรและแม่นยำสูงในการนับ
- **การขยายตัวง่าย:** สามารถนำไปประยุกต์ใช้ในระบบอื่นๆ ที่ต้องการการนับแบบวนรอบ

## 9. การแสดงผลบนจอ LCD

การแสดงผลสถานะของเคาน์เตอร์บนจอ LCD ช่วยให้ผู้ใช้สามารถดูการนับแบบเรียลไทม์ได้อย่างชัดเจน

### 9.1 การเชื่อมต่อกับไมโครคอนโทรลเลอร์

- เชื่อมต่อขาเอาต์พุตของเคาน์เตอร์ (Q3, Q2, Q1, Q0) กับขาอินพุตของไมโครคอนโทรลเลอร์
- ใช้พอร์ต I/O ของไมโครคอนโทรลเลอร์ในการอ่านสถานะของเคาน์เตอร์

### 9.2 การเขียนโปรแกรม

- เขียนโปรแกรมในไมโครคอนโทรลเลอร์เพื่อแปลงสถานะของเคาน์เตอร์เป็นค่าเลขทศนิยม
- ส่งข้อมูลไปยังจอ LCD เพื่อแสดงผลรหัสเลขที่นับได้ปัจจุบัน

### 9.3 การตรวจสอบการแสดงผล

- ตรวจสอบว่าการแสดงผลบนจอ LCD ตรงกับสถานะของเคาน์เตอร์ทุกครั้งที่มีการเปลี่ยนสถานะ
- ตรวจสอบการรีเซ็ตและการเริ่มนับใหม่บนจอ LCD ให้ถูกต้อง

## 10. การสร้างวงจรใน Tinkercad

### 10.1 ขั้นตอนการสร้างวงจ��

1. เปิดเว็บไซต์ [Tinkercad](https://www.tinkercad.com/)
2. สร้างโปรเจกต์ใหม่และเลือก "วงจร" (Circuits)
3. เพิ่ม JK Flip-Flops จำนวน 4 ตัวลงในพื้นที่ทำงาน
4. เชื่อมต่อขา Clock ของทุก Flip-Flop เข้ากับสัญญาณนาฬิกาเดียวกัน
5. เชื่อมต่อขา Q0 ของ FF0 เข้ากับขา J1 และ K1 ของ FF1
6. เชื่อมต่อขา Q1 และ Q0 ของ FF1 และ FF0 เข้ากับขา J2 และ K2 ของ FF2
7. เชื่อมต่อขา Q2, Q1 และ Q0 ของ FF2, FF1 และ FF0 เข้ากับขา J3 และ K3 ของ FF3
8. เพิ่มเกต AND และ NOT เพื่อสร้างเงื่อนไขการ Reset เมื่อถึงสถานะ 1100 (12)
9. เชื่อมต่อขาเอาต์พุตของเคาน์เตอร์กับขาอินพุตของไมโครคอนโทรลเลอร์
10. เขียนโปรแกรมในไมโครคอนโทรลเลอร์เพื่อแสดงผลสถานะของเคาน์เตอร์บนจอ LCD

### 10.2 การทดสอบวงจรใน Tinkercad

1. เริ่มการจำลอง (Simulation) ใน Tinkercad
2. ตรวจสอบการนับจาก 0000 (0) ถึง 1011 (11)
3. ตรวจสอบการ Reset กลับไปที่ 0000
4. ตรวจสอบการแสดงผลบนจอ LCD ให้ตรงกับสถานะของเคาน์เตอร์

### 11. แบบฝึกหัดและคำถามเพื่อการทบทวน

1. อธิบายความแตกต่างระหว่าง Synchronous Counter และ Asynchronous Counter
2. หากต้องการสร้างเคาน์เตอร์แบบ Mod-16 จำนวน Flip-Flopsที่ต้องใช้เป็นเท่าไร และเพราะเหตุใด?
3. อธิบายกระบวนการหาฟังก์ชันบูลีนสำหรับ Flip-Flop แต่ละตัว
4. อะไรคือข้อดีของการใช้ Tinkercad ในการออกแบบและทดสอบวงจรอิเล็กทรอนิกส์?
5. สร้างแผนภาพสถานะเพิ่มเติมสำหรับเคาน์เตอร์ที่นับถึง 15 (Mod-16) และเปรียบเทียบกับ Mod-12

## สรุป

การออกแบบ Mod-12 Synchronous Counter ด้วย JK Flip-Flops เป็นกระบวนการที่ต้องอาศัยความเข้าใจในหลักการทำงานของ Flip-Flops การหาฟังก์ชันบูลีน การออกแบบวงจรลอจิก และการทดสอบอย่างละเ���ียด การใช้เครื่องมือเช่น Tinkercad ช่วยให้นักศึกษาได้ทดลองและเรียนรู้การออกแบบวงจรจริงได้อย่างมีประสิทธิภาพ เอกสารนี้หวังว่าจะเป็นประโยชน์ในการศึกษาด้านอิเล็กทรอนิกส์ดิจิทัลและการออกแบบระบบนับที่ซับซ้อนสำหรับนักศึกษา
